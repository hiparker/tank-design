# 坦克大战 - 设计模式训练



## Tank-Master 基础版 - 里程碑

```
坦克大战简单游戏本身

## 简单的开发了 坦克大战游戏,用于后续的改进和优化
```



## Tank-Factory-Model 单机版 - 主工厂 设计模式


坦克大战练习23种设计模式

用于对象设计技能提升

1.单例模式（Single）
	1). final + private 构造函数方法
	2). enum 枚举单例
	3). 内部类单例
	3). 双重判断+synchronize+volatile
	...

2.策略模式（Strategy）
	坦克Fire策略

3.抽象工厂（Abstract Factory）
	抽象工厂一键换肤换主题 - 产品一族

4.工厂方法（Factory Method）
	具体抽象工厂下 - 产品

5.模版模式/原型模式（Model / Prototype）
	BaseTank定义了 fire move 等方法,子类去具体的实现,否则报错	




## Tank-Desin-Model 单机版 - 设计模式

<font color="red">**未解决问题：自身Main坦克死亡后，还可以发射子弹**</font>



++一个设计模式的出现一定有它特殊的价值++

坦克大战练习23种设计模式

用于对象设计技能提升

### 一、创建型模式（共5种）3

++工厂方法模式、抽象工厂模式、单例模式、建造者模式、原型模式++

    1.单例模式（Single）
    
        定义：（⭐ 单例也是一种工厂，静态工厂  ⭐ 其中简单工厂是可以产生对象或者类）️
            1.直接 private static final Object = new Object();
            2.static 静态块 去new
            3.getInstance 调用时去new (线程不安全)
            4.getInstance 调用时去new (加锁,但不是太安全)效率低
            5.同4 企图通过减小同步代码块提高效率
            6.同5 双重检测
            7.静态内部类方式,加载外部类时不会加载内部类,这样可以实现
              懒加载,内部类为static (完美)
            8.枚举,不仅可以解决线程安全问题,还可以防止反序列化(enum完美,
              但不习惯)
        
        用途:
            1.Tank 静态工厂
            2.Util 工具类
            3.策略模式的实现类为单例模式(策略只需要创建一次)
    
    2.工厂方法 （Factory Method）
        
        定义：
            1.任何可以产生对象的方法或类，都可以称之为工厂
            2.单例也是一种工厂
            3.不可以咬文嚼字，死扣概念
            4.为什么有了new之后，还要有工厂？
               * 灵活的控制生产过程
               * 全县、修饰、日志
            5.   
            
        用途：
            1.对Tank的创建
            2.对关卡的创建    
        
    
    3.抽象工厂（Abstract Factory）
    
        定义：
            1.对产品一族进行扩展
        
        用途：
            1.用于责任链模式下，可更换游戏场景 

### 二、结构型模式（共7种）3

++适配器模式、装饰器模式、代理模式、外观模式、桥接模式、组合模式、享元模式++

    1.装饰器（Decortor）
    
        定义：
            1.用聚合代替继承（包装类）
            2.装饰器的价值在于装饰，它并不影响被装饰类本身的核心功能
            3.包装类来实现在不改变原类的改动
        
        用途：
            1.用于装饰器模式下可更换子弹样式

    2.组合模式（Composite）
    
        定义：
            1.树状结构专用模式，在Composite中定义公共接口
              以保持透明性蛋损失安全性
        
        用途：
            1.暂无
            
    3.享元模式（FlyWeight）
    
        定义：
            1.String的原理和线程池的池都是FlyWeight模式
            2.原理：
                 有些操作需要new出n多个同一对象，这个过度耗费内存空间，所以
              建立一个对象池，判断它们的使用寿命，共享模式
              
        用途：
            1.坦克炮弹加入 炮弹池，N多坦克Fire都使用池内的炮弹，重复利用
              避免资源的浪费
                    

### 三、行为型模式（共11种）5

++策略模式、模板方法模式、观察者模式、迭代子模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式++

    1.策略模式 （Strategy）
    
        定义:
            1.抽象方法为Interface,然后多个类去实现这个接口,以做到灵活性
            2.范型也是一样    
    
        用途:
            1.坦克Fire策略
    
    2.观察者（Observer）⭐️⭐️⭐️⭐️⭐️
    
        定义：
            1.事件处理经常是Observer+责任链
            2.观察者的情况不一定要耦合在一个特定的被观察者身上
            3.责任链是能中断的，观察者模式一般不能中断
            4.大多数处理事件的时候需要事件源对象
            5.事件本身也可以形成一系列的体系
    
        用途：
            1.监控主战坦克 开火/移动事件   

    3.责任链 （Chain）⭐️⭐️⭐️⭐️⭐
    
        定义：
            1.软件的可扩展性，在对原来代码改动越小，说明这个代码的扩展性
              越好（封装变化）⭐️
            2.责任链模式并不创建责任链，责任链的创建必须由系统的其他部分
              创建出来
            3.责任链模式降低了请求的发送端和接受端之间的耦合，使多个对象
              都有机会处理这个请求
            4.一个链可以是一条线，一个树，也可以是一个环
    
    	定义：
            1). 各种Modle之间的碰撞检测
            2). 游戏关卡责任链

    4.门面（Faced）
    	
        定义:
            1.对外来说是Facede门面
            2.提供统一的对外负责人
            3.Model 与 View 分离
        
        用途:
            1.Frame只负责展示，模型分离
    
    5.调停者（Mediation / Mediator）
    
        定义:
            1.对内来说是Mediator调停者
            2.提供统一的对外负责人
            3.Model 与 View 分离
        
        用途:
            1.用途为各种模型的统一管控，各种Modle调停者的总控制



## Tank-Net-Model 网络版 - 游戏服务器设计


坦克大战网络版设计

用于对象设计技能提升 与 游戏服务底层设计 Netty




